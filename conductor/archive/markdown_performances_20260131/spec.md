# Track Specification: 마크다운 기반 시공 사례 등록 및 고도화된 검색 시스템

## 1. Overview
관리자가 작성한 마크다운(.md) 파일을 직접 업로드하거나 특정 경로에 저장하여 시공 사례를 등록할 수 있는 기능을 구현합니다. Frontmatter를 통해 상세한 메타데이터를 관리하며, 이를 기반으로 고도화된 필터링 및 검색 기능을 제공합니다. 최종 렌더링은 기존의 블록 기반 UI와 동일한 통일성을 유지합니다.

## 2. Functional Requirements
### 2.1 마크다운 파싱 및 동기화
- **Frontmatter 지원:** YAML 형식을 통해 연도, 작업명, 분야, 분류, 대상지 등 상세 메타데이터 추출.
- **파일 동기화 (CLI/Batch):** 코드 내부의 특정 경로(예: `backend/data/performances/*.md`)에 파일을 두면 자동으로 DB와 동기화하는 로직 구현.
- **파일 업로드 (Admin UI):** 관리자 페이지에서 `.md` 파일을 업로드하여 즉시 등록하는 기능.

### 2.2 고도화된 메타데이터 관리
- **확장된 필드:** 기존 `Performance` 모델에 다음 필드 추가 또는 연동:
  - `year` (연도), `job_main_category` (작업분류), `job_sub_category` (작업소분류), `site_type` (대상지 분류), `site_location` (대상지)
- **필터링 및 검색:** 위 필드들을 기준으로 시공 사례 목록에서 다중 필터링 및 키워드 검색 기능 제공.

### 2.3 통일된 렌더링 시스템
- 마크다운 본문을 기존의 블록 기반 UI(`text`, `image`, `image_row`)와 호환되는 구조로 변환하여 렌더링.
- 마크다운 표준 이미지 문법(`![alt](url)`) 지원 및 기존 업로드 URL 연동.
- **특수 로직:** 연속된 이미지를 `image_row`로 변환하여 한 행에 여러 장 배치 가능하도록 처리.

## 3. Non-Functional Requirements
- **호환성:** 기존에 등록된 블록 기반 데이터와 마크다운 기반 데이터가 목록에서 공존 가능해야 함.
- **성능:** 다량의 마크다운 파일 동기화 시 DB 트랜잭션을 효율적으로 처리.

## 4. Acceptance Criteria
- [x] 마크다운 파일을 업로드했을 때 모든 메타데이터가 DB에 정확히 저장되는가?
- [x] 특정 경로에 `.md` 파일을 추가하고 동기화 스크립트를 실행했을 때 신규 게시글이 등록되는가?
- [x] 마크다운으로 작성된 글이 기존 블록 기반 글과 동일한 디자인으로 상세 페이지에 표시되는가?
- [x] 연도, 작업분류, 대상지 분류 등을 통한 필터링 검색이 정상 작동하는가?

## 5. Out of Scope
- 마크다운 파일 내의 로컬 이미지 자동 업로드 (이미 업로드된 URL 사용 전제).
- 마크다운 파일 직접 편집기 (수정은 파일 재업로드 또는 소스 수정으로 처리).