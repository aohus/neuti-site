❯ 1. 나무병원/조경회사 홈페이지 구성 전략 수정\

1. 배경: 보통 고객은 명확하게 자신이 해야하는 '작업'이 있고, 이 회사가 그 작업 경험이 있는지 있다면 결과가 어떤지를 보려고합니다. \
   - 작업의 종류는 현재 home에 있는 '녹지관리', '계절꽃식재', '소나무전정' 등이 있습니다. \

\  
 2) 목표: 고객이 홈페이지에 들어와서 왼쪽 질문들에 오른쪽과 같은 답을 자연스럽게 얻게 하는 것.  
 -> "내가 이일을 맡길 수 있나?": "이 회사는 내가 해야할 일을 한적이 있네!"\  
 -> "이 작업을 어떻게 했지? 사례가 있나?" : "작업을 이렇게 했구나. 퀄리티가 괜찮네. 이런걸 신경쓰는구나."\  
 -> "신뢰할만한 회사인가?" : "여러 정부 업체들이랑 일한 경험이 있구나."  
 -> "견적은 어떻게 알지?" : "이렇게 의뢰하면 되는구나, 이런식으로 계약이 진행되는구나"\  
 3) 절차 \  
 (1) 현재 구성 피드백 \  
 (2) 새로운 구성 전략, 홈페이지 전략 전문가/디자인전문가 등 수준으로 깔끔하고 신뢰성 있게 구성 계획(현재 중복이 더러 있는 것 처럼 느껴짐) \\  
 (3) 고객(수요자)가 직관적으로 와닿을 수 있도록\

- 수요자는 주로 지자체 조경/나무 관리하는 공무원, 가끔 사기업 청사 관리자, 아파트 등 있을 수 있음. \\  
  -> 피드백/새로운 구성 전략과 구성 자체는 한국어로 기록

  (4) 새로운 구성으로 업데이트\
   - 화면 비율에 따라 버튼 안보이거나 하는 자잘한 버그 수정 포함. \

\  
 2. 모바일 뷰 최적화

- 모바일에서도 깨지지 않고 모든 요소가 잘 보이게씀 최적화 작업 수행  
  \

---

작업 중간중간 커밋하면서 진행.\  
 모든 작업 완료후 서비스 정상적으로 돌아가는지 확인. 지금까지는 'backend 와 연결실패로 시공사례 노출 안됨', 'image 404 error' 와 같은 에러 있었음.  
 \

---

╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Plan to implement │
│ │
│ 느티나무병원 홈페이지 구성 전략 수정 + 모바일 최적화 │
│ │
│ Context │
│ │
│ 느티나무병원 협동조합(나무병원/조경회사) 홈페이지의 구성을 재설계합니다. 고객(주로 지자체 조경 담당 공무원, 아파트/기업 시설 관리자)이 홈페이지에서 자연스럽게 다음 4가지 답을 얻도록 합니다: │
│ │
│ 1. "이 회사는 내가 해야할 일을 한 적이 있네!" (작업 종류 확인) │
│ 2. "작업을 이렇게 했구나. 퀄리티가 괜찮네." (사례 확인) │
│ 3. "여러 정부 업체들이랑 일한 경험이 있구나." (신뢰 확인) │
│ 4. "이렇게 의뢰하면 되는구나." (견적/의뢰 경로) │
│ │
│ --- │
│ 1. 현재 구성 피드백 │
│ │
│ 전체 진단 │
│ │
│ 현재 홈페이지는 8개 섹션으로 구성되어 있으나, 핵심 정보(신뢰 지표, 시공사례)가 여러 섹션에 분산되어 고객이 스크롤을 끝까지 하지 않으면 필요한 정보를 얻을 수 없습니다. │
│ │
│ 구체적 문제점 │
│ ┌─────┬────────────────────────────────────┬─────────────────────────────────────────┬────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ # │ 문제 │ 위치 │ 영향 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 1 │ 신뢰 시그널 분산 │ ClientBanner(2) + Stats(3) + Mission(7) │ 로고·수치·미션이 3곳에 흩어져 임팩트 희석 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 2 │ StatisticsDashboard 스크롤 opacity │ StatisticsDashboard.tsx:36-38 │ scrollYProgress 0.3 이상이면 opacity:0으로 사라짐. 200건+ 실적이 숨겨질 수 있음 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 3 │ ProcessFlow 차별화 실패 │ ProcessFlow.tsx │ "분석→설계→시공→관리"는 모든 조경업체가 동일하게 제시하는 내용. py-40(160px) 과도한 여백 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 4 │ TechnologySection → 시공사례 단절 │ TechnologySection.tsx │ before/after 갤러리를 보고 관심을 가져도 실제 시공사례로 가는 링크 없음 (dead end) │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 5 │ TargetCTA 링크 고장 │ TargetCTA.tsx:19,32 │ /performance?type=apartment 등 URL 파라미터를 performance 페이지에서 파싱하지 않아 필터 미작동 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 6 │ Hero CTA 목적지 모호 │ MainCarousel.tsx:18 │ "녹지관리 솔루션" 클릭 → /business (일반 사업소개 페이지). 기대와 불일치 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 7 │ MissionSection 실효성 부족 │ HomeSections.tsx:19-47 │ "사람과 나무에 안전한 공간" - 추상적. About 페이지에 동일 내용이 더 상세하게 존재 │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 8 │ LatestUpdates 정보 혼합 │ LatestUpdates.tsx │ 공지사항 + 시공사례 동시 표시로 임팩트 희석. 코드에 과도한 빈 줄(520행 → 실질 170행) │ │
│ ├─────┼────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤ │
│ │ 9 │ FinalCTA 미사용 │ FinalCTA.tsx │ "무료 견적 상담" CTA가 /business에서만 사용. 홈에 견적 경로 없음 │ │
│ └─────┴────────────────────────────────────┴─────────────────────────────────────────┴────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│ --- │
│ 2. 새로운 구성 전략 │
│ │
│ 설계 원칙: "4가지 질문 순서대로 답하기" │
│ │
│ [Hero] → 첫인상 + "우리가 이 일을 합니다" │
│ [신뢰] → "정부기관들이 선택한 회사입니다" (즉각 신뢰) │
│ [기술력] → "이렇게 작업합니다" + "이 작업의 실제 사례 보기" 링크 │
│ [시공사례] → "최근에 이런 프로젝트를 했습니다" │
│ [CTA] → "견적/상담은 이렇게 하세요" │
│ │
│ 새로운 홈페이지 구조 (8개 → 5개 섹션) │
│ ┌──────┬────────────────────────────────────┬─────────────────────────┬───────────┐ │
│ │ 순서 │ 섹션 │ 대응하는 고객 질문 │ 변경 유형 │ │
│ ├──────┼────────────────────────────────────┼─────────────────────────┼───────────┤ │
│ │ 1 │ MainCarousel (CTA 개선) │ "이 일을 맡길 수 있나?" │ 수정 │ │
│ ├──────┼────────────────────────────────────┼─────────────────────────┼───────────┤ │
│ │ 2 │ TrustBar (로고 + 수치 통합) │ "신뢰할 만한가?" │ 병합/신규 │ │
│ ├──────┼────────────────────────────────────┼─────────────────────────┼───────────┤ │
│ │ 3 │ TechnologySection (사례 링크 추가) │ "어떻게 작업하지?" │ 수정 │ │
│ ├──────┼────────────────────────────────────┼─────────────────────────┼───────────┤ │
│ │ 4 │ RecentPortfolio (최근 시공사례) │ "사례가 있나?" │ 신규 │ │
│ ├──────┼────────────────────────────────────┼─────────────────────────┼───────────┤ │
│ │ 5 │ FinalCTA (듀얼 버튼) │ "견적은 어떻게?" │ 수정 │ │
│ └──────┴────────────────────────────────────┴─────────────────────────┴───────────┘ │
│ 삭제 대상 │
│ │
│ - ProcessFlow - 제네릭, 차별화 불가 │
│ - TargetCTA - 링크 고장 + 불필요한 고객 분기 (서비스 분기는 TechnologySection 탭으로 충분) │
│ - MissionSection - About 페이지에 이미 상세 존재 │
│ - LatestUpdates - 공지사항은 Navbar /notice로 접근. 시공사례는 RecentPortfolio로 대체 │
│ │
│ --- │
│ 3. 구현 계획 │
│ │
│ Phase 1: 새 컴포넌트 생성 │
│ │
│ 1-1. TrustBar 컴포넌트 생성 │
│ │
│ - 파일(신규): frontend/src/components/home/TrustBar.tsx │
│ - ClientBanner의 로고 데이터 + StatisticsDashboard의 API/Counter 로직 통합 │
│ - 로고: 정적 그리드(flex justify-center gap-8)로 변경 (마키 애니메이션 제거 → 공공기관 대상 사이트답게 진중한 느낌) │
│ - 수치: whileInView={{ once: true }} 기반 카운터 (스크롤 기반 opacity 제거) │
│ - 간결한 높이: py-12 md:py-16 │
│ │
│ 1-2. RecentPortfolio 컴포넌트 생성 │
│ │
│ - 파일(신규): frontend/src/components/home/RecentPortfolio.tsx │
│ - /backend-api/api/v1/performance/?limit=6 API 호출 │
│ - grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 카드 그리드 │
│ - 각 카드: 썸네일 + job_main_category 태그 + 제목 + 발주처 │
│ - Next.js Image 컴포넌트 사용 (기존 LatestUpdates의 plain <img> 문제 해결) │
│ - 하단: "전체 시공사례 보기" → /performance │
│ │
│ Phase 2: 기존 컴포넌트 수정 │
│ │
│ 2-1. MainCarousel CTA 수정 │
│ │
│ - 파일: frontend/src/components/common/MainCarousel.tsx │
│ - 첫 슬라이드: btnText: '서비스 살펴보기', btnLink: '#services' │
│ - <Link> → <a> + smooth scroll 또는 scrollIntoView 핸들러 │
│ │
│ 2-2. TechnologySection에 시공사례 링크 + id 추가 │
│ │
│ - 파일: frontend/src/components/home/TechnologySection.tsx │
│ - <section> 태그에 id="services" 추가 │
│ - InteractiveGallery 텍스트 영역(doctorNote 아래)에 링크 추가: │
│ - "{item.title} 시공사례 보기" → /performance?job_main={item.title} │
│ │
│ 2-3. FinalCTA 듀얼 버튼 │
│ │
│ - 파일: frontend/src/components/common/FinalCTA.tsx │
│ - props로 버튼 구성을 받도록 수정 (기본값으로 현재 동작 유지, /business에서의 사용 보호) │
│ - 홈에서는 2개 버튼: "시공/견적 문의" → /qna/write, "수목 진단 의뢰" → /request │
│ │
│ 2-4. Performance 페이지 URL 쿼리 파라미터 지원 │
│ │
│ - 파일: frontend/src/app/performance/page.tsx │
│ - useSearchParams로 job_main 읽기 → useState 초기값으로 설정 │
│ - TechnologySection의 "시공사례 보기" 링크가 필터링된 결과를 보여주도록 │
│ │
│ Phase 3: 홈페이지 재조립 │
│ │
│ 3-1. page.tsx 재구성 │
│ │
│ - 파일: frontend/src/app/page.tsx │
│ - 5개 섹션으로 재조립: MainCarousel → TrustBar → TechnologySection → RecentPortfolio → FinalCTA │
│ │
│ Phase 4: 모바일 최적화 │
│ │
│ 4-1. 반응형 버그 수정 │
│ │
│ 수정 대상 파일들: │
│ - MainCarousel.tsx: 히어로 높이 min-h-[500px] → min-h-[300px] md:min-h-[500px], 페이지네이션 위치 반응형 조정 │
│ - TechnologySection.tsx: 모바일 탭 버튼 크기, 썸네일 간격 │
│ - FinalCTA.tsx: 모바일 py-32 → py-16 md:py-32, 데코 원 overflow 방지 │
│ - Navbar.tsx: 모바일 메뉴 top-20 → Navbar 실제 높이(h-16)에 맞춤 top-16 md:top-20 │
│ - 전반적: 과도한 py-40, gap-12 등을 반응형으로 조정 │
│ │
│ Phase 5: 정리 및 검증 │
│ │
│ 5-1. 코드 정리 │
│ │
│ - LatestUpdates.tsx 과도한 빈 줄 제거 │
│ - 홈에서 제거된 import 정리 (ProcessFlow, TargetCTA, MissionSection, ClientBanner, StatisticsDashboard 등) │
│ - 미사용 컴포넌트는 삭제하지 않고 보관 (다른 페이지에서 재사용 가능) │
│ │
│ 5-2. 커밋 (중간중간) │
│ │
│ - Phase 1-2 완료 후 커밋 │
│ - Phase 3 완료 후 커밋 │
│ - Phase 4 완료 후 커밋 │
│ │
│ 5-3. 검증 │
│ │
│ - npm run build 빌드 성공 확인 │
│ - 홈 → 각 섹션 렌더링 확인 │
│ - Hero CTA → TechnologySection 스크롤 동작 │
│ - TechnologySection "시공사례 보기" → /performance?job_main= 필터 동작 │
│ - FinalCTA 버튼 → /qna/write, /request 이동 │
│ - 모바일 뷰(375px) 레이아웃 확인 │
│ - backend 미연결 시 graceful fallback 확인 │
│ │
│ --- │
│ 핵심 수정 파일 목록 │
│ ┌────────────────────────────────────────────────────┬────────────────────────┐ │
│ │ 파일 │ 변경 유형 │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/app/page.tsx │ 수정 (5개 섹션 재조립) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/home/TrustBar.tsx │ 신규 │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/home/RecentPortfolio.tsx │ 신규 │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/common/MainCarousel.tsx │ 수정 (CTA 링크) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/home/TechnologySection.tsx │ 수정 (id + 사례 링크) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/common/FinalCTA.tsx │ 수정 (듀얼 버튼) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/app/performance/page.tsx │ 수정 (URL 파라미터) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/Navbar.tsx │ 수정 (모바일 위치) │ │
│ ├────────────────────────────────────────────────────┼────────────────────────┤ │
│ │ frontend/src/components/common/LatestUpdates.tsx │ 수정 (코드 정리) │ │
│ └────────────────────────────────────────────────────┴────────────────────────┘
